<head>
    <title> Hexo 博客主题开发 - WyyOIer </title>
  	<link rel="stylesheet" href="/css/main.css">
  	<link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <script type = "text/javascript" async src="/javascript/main.js"></script>
    <script id="MathJax-script" async src="/javascript/math/tex-mml-chtml.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$']]
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>


   <!-- <script type="text/javascript" src="/javascript/codeBlocks/codeBlockFuction.js"></script> -->
   <!-- <script type="text/javascript" src="/javascript/codeBlocks/codeCopy.js"></script> -->
   <!-- <script type="text/javascript" src="/javascript/codeBlocks/clipboard.min.js"></script> -->
   <!-- <script type="text/javascript" src="/javascript/codeBlocks/codeShrink.js"></script> -->
   <!-- <style type="text/css">code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }</style> -->

    <!-- <link rel="stylesheet" href="/highlight/styles/atom-one-dark.min.css"> -->
    
    <!-- <link rel="stylesheet" href="/css/bootstrap.min.css"> -->
    <script id="Valine" src='https://cdn.jsdelivr.net/gh/HCLonely/Valine@latest/dist/Valine.min.js'></script>
<meta name="generator" content="Hexo 6.2.0"><link rel="stylesheet" href="/css/prism-sh.css" type="text/css"></head>

<body>


<div id = "background">
    <div id = "index">
        <div id="menu">

    <div style="text-align: center;font-size: 32px;font-family: consolas;">
        <p>WyyOIer</p>
    </div>

    <div style="height: 150px;float: up;display: flex;flex-direction: column;align-items: center;">
        <div id="headstyle">
            
        </div>
    </div>
	
    <div style="height: 50px;width: 30%;float: left;text-align: center;">
        <text id = "pcount" title = "文章数" style = "font-family: consolas;font-size: 20px;">18</text>
    </div>

    <div style="height: 50px;width: 30%;float: left;text-align: center;">
        <text id = "commentcount" title = "评论数" style = "font-family: consolas;font-size: 20px;">0</text>
    </div>

    <div style="height: 50px;width: 40%;float: left;text-align: center;">
        <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/user/159610">
        <img src="https://www.luogu.com.cn/favicon.ico" alt="洛谷" width="24" height="24"></a>
        &nbsp; 
        <a target="_blank" rel="noopener" href="https://codeforces.com/profile/WyyOIer">
        <img src="https://codeforces.com/favicon.ico" alt="CF" width="24" height="24"></a>
    </div>


    <div class="list-group">
        <a class="list-group-item" href="/"><i class="fa fa-home fa-fw"></i>&nbsp; 首页</a>
        <a class="list-group-item" href="/about"><i class="fa fa-user fa-fw"></i>&nbsp; 关于</a>
        <a class="list-group-item" href="/links"><i class="fa fa-link fa-fw"></i>&nbsp; 友链</a>
        <a class="list-group-item" onclick = "Search()"><i class="fa fa-search fa-fw"></i>&nbsp; 搜索</a>
        <a class="list-group-item" href="/source"><i class="fa fa-code fa-fw"></i>&nbsp; 代码</a>
        <a class="list-group-item" href="/config"><i class="fa fa-cog fa-fw"></i>&nbsp; 设置</a>
    </div>

    <script>
        function changemusicid(){
            var v = document.getElementById("num").value, text, f = 0;
            if(v == null || v == "") {
            text = "输入不能为空。";
            f = 1;
            }
            if(f == 0) document.getElementById("music").innerHTML= '<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=250 height=95 src="//music.163.com/outchain/player?type=2&id=' + v + '&auto=0&height=66"></iframe> ';
            else document.getElementById("musictext").innerHTML = text;
        }
    </script>

    <div style="height: 13%;width: 30%;float: left" id="music">
    <!-- <input id = "num" placeholder = "输入网易音乐 id，如 480517594" style = "width: 230px;"> -->
    <!-- <button type="button" onclick="changemusicid()">提交</button> -->
    <!-- <p id = "musictext"></p> -->
    </div>

</div>


    </div>

    

    


    

        <div id = "article">
            <div id = "post-title"> Hexo 博客主题开发 </div>
            <div id = "post-author"> By WyyOIer | </div>
            <div id = "post-date" title = "发布时间"> 2022-04-10 13:37:24 / </div>
            <div id = "post-updated" title = "更新时间"> 2022-08-18 14:21:18 </div>
            <span class = "leancloud_visitors" id = "/2022/04/10/Hexo-%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98%E5%BC%80%E5%8F%91/">
                <text class="post-meta-item-text">阅读数 </text>
                <i class="leancloud-visitors-count">nan</i>
            </span>
            <br>
            <p>这是一项大工程。。。工程量预计 $\text{40 hours+}$ </p>
<p>目标：创建一个主要为自己 Hexo 博客的主题 $\text{hexo-theme-MeaningLessNess}$ 并记录开发过程。</p>
<p>大部分的内容看起来会比较枯燥。。。不知道能不能坚持做下去</p>
<h1 id="主题"><a href="#主题" class="headerlink" title="主题"></a>主题</h1><p><a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/themes">主题 | Hexo</a></p>
<p>在创建之前，我们需要了解一个 $\text{Hexo}$ 主题 $\text{Theme}$ 文件夹的构成。</p>
<p>打开默认主题 $\text{\Blog\themes\landscape}$，找到四个文件夹和一个文件：</p>
<ul>
<li>$\text{lanauages:}$ 语言</li>
<li>$\text{layout:}$ 页面布局</li>
<li>$\text{script:}$ $\text{Hexo}$ 脚本</li>
<li>$\text{source: }$ 主题资源文件，包括页面样式，脚本，字体等</li>
<li>$\text{_config.yml:}$ 主题配置文件（由于 $\text{\Blog}$ 目录下也有一个 $\text{_config.yml}$，为了区分我们叫主题内的为主题配置文件，主目录下叫博客配置文件）</li>
</ul>
<h1 id="创建主题"><a href="#创建主题" class="headerlink" title="创建主题"></a>创建主题</h1><p>在 $\text{\Blog\themes}$ 目录下创建一个名为 $\text{hexo-theme-example}$ 的文件夹，将上述部分先加入到主题文件夹中。</p>
<p>注意，后文的主题文件夹名为 $\text{hexo-theme-MeaningLessNess}$。</p>
<p>记得将主题配置文件中的主题改为制作的主题。</p>
<img src="https://s2.loli.net/2022/04/10/NfhTMcyz4BuPGlr.png" alt="Hexo-博客主题开发-01.png" style="zoom: 67%;" />

<h1 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h1><p>学习一下 $\text{HTML},\text{CSS},\text{JavaScript}$ 等的使用，也可以边做边学。</p>
<h1 id="空白主题的基本配置"><a href="#空白主题的基本配置" class="headerlink" title="空白主题的基本配置"></a>空白主题的基本配置</h1><p>我们先来简单的布置一些主站界面。</p>
<p>我们在 $\text{\hexo-theme-MeaningLessNess\layout}$ 路径放入三个文件：</p>
<ul>
<li>$\text{post.ejs:}$ 每一篇单独文章的模板。</li>
<li>$\text{post_entry.ejs:}$ 主页上文章列表中每一项的模板。</li>
<li>$\text{index.ejs:}$ 是唯一必不可少的，是网站主页的模板。如果少了 $\text{index.ejs}$ 会报错。</li>
</ul>
<p>在 $\text{\layout\index.ejs}$ 中，放入如下代码：</p>
<pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>content-type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/html; charset<span class="token punctuation">=</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0, maximum-scale<span class="token punctuation">=</span>1.0, user-scalable<span class="token punctuation">=</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Hello World.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre>
<p>运行后可以得到：</p>
<img src="https://s2.loli.net/2022/04/10/uGXYKAb2QvzDx5e.png" alt="Hexo-博客主题开发-02.png" style="zoom: 33%;" />

<p>对了，这里我发现不要用记事本去编辑中文内容，可能会产生乱码，于是我采用了编程软件编辑，果然能打印中文字体了。</p>
<p>现在我们需要使用一个 <code>partial()</code> 函数包含其它文件，这样能使我们更好的组织代码。</p>
<p>我们在 $\text{\layout}$ 目录下建立 $\text{_partial}$  文件夹，用于存放一些部分的布局文件，这样我们可以在 $\text{\layout\index.ejs}$ 等文件中直接使用。</p>
<p>在 $\text{_partial}$ 文件夹中，我们可以放置如下文件：</p>
<ul>
<li>$\text{header.ejs:}$ 页首文件</li>
<li>$\text{footer.ejs:}$ 页脚文件</li>
<li>$\text{sidebar.ejs:}$ 侧边栏文件</li>
</ul>
<p>比如我在 $\text{\layout_partial\header.eps}$ 中写入：</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Welcome.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
</code></pre>
<p>在 $\text{\layout\index.eps}$ 中稍作修改：</p>
<pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>content-type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/html; charset<span class="token punctuation">=</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0, maximum-scale<span class="token punctuation">=</span>1.0, user-scalable<span class="token punctuation">=</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>WyyOIer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    &lt;%- partial('_partial/header') %>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>qwq<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre>
<p>即可看到主站界面变为：</p>
<img src="https://s2.loli.net/2022/04/11/ELTym8pFXNczloG.png" alt="Hexo-博客主题开发-03.png" style="zoom:33%;" />

<p>也就是在加载 $\text{indes.ejs}$ 的 <code>&lt;%- partial(&#39;_partial/header&#39;) %&gt;</code> 时，自动将 $\text{\layout_partial\header.ejs}$ 中的内容放置在代码中，对后续操作和检查十分方便，而 <code>partial()</code> 函数可以传参，具体操作和效果深入修改时再说。</p>
<h1 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h1><p>在配置主题之前，先进行一些小小的设计，让后续的编写更有目标性。</p>
<p>参考了一些官网的主题。 <a target="_blank" rel="noopener" href="https://hexo.io/themes/">Themes | Hexo</a> </p>
<h1 id="正式制作"><a href="#正式制作" class="headerlink" title="正式制作"></a>正式制作</h1><h2 id="文章-text-post"><a href="#文章-text-post" class="headerlink" title="文章 $(\text{post})$"></a>文章 $(\text{post})$</h2><h3 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h3><p>主要希望实现显示文章的一级标题、二级标题、三级标题所组成的目录表格，并且点击后能够自动跳转到相应位置。</p>
<p>由于需要用到 $\text{JavaScript}$，借鉴了一下其他人的代码，但始终无效。</p>
<p>检查后发现，代码中有这样一句话：</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> labelList <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#article"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>打开浏览器的检查页面，发现了如下报错信息：</p>
<p><img src="https://s2.loli.net/2022/05/06/YZy1DqveIQdBaNb.png" alt="Hexo-博客主题开发-06.png"></p>
<p>百度发现后，需要引用 $\text{JavaScript}$ 的 $\text{jQuery}$ 库，可以从网上下载，也可直接使用在线文件。</p>
<pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://code.jquery.com/jquery-3.6.0.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre>
<p>再次刷新后发现已能正常显示。</p>
<h3 id="代码块高亮"><a href="#代码块高亮" class="headerlink" title="代码块高亮"></a>代码块高亮</h3><p>采用的是 $\text{hexo-prism-plugin}$ 插件。</p>
<p>安装方法：</p>
<pre><code>hexo i -S hexo-prism-plugin
</code></pre>
<p>然后在博客配置文件中加入：</p>
<pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">prism_plugin</span><span class="token punctuation">:</span>
  <span class="token key atrule">mode</span><span class="token punctuation">:</span> <span class="token string">'preprocess'</span>
  <span class="token key atrule">theme</span><span class="token punctuation">:</span> <span class="token string">'default'</span>
  <span class="token key atrule">line_number</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">custom_css</span><span class="token punctuation">:</span>
</code></pre>
<p>就可以实现代码块高亮，记得还要把自带的 <code>highlight</code> 和 <code>prismjs</code> 的 <code>enable</code> 设为 <code>false</code>。</p>
<p>高亮主题可以自行设计，加到 $\text{\node_modules\prismjs\themes}$ 目录下即可。</p>
<h3 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h3><p>在每个链接后添加 <code>fa fa-link</code> 图标，如： <a href="/">link</a></p>
<p>我们可以使用 <code>::after</code> 伪元素为某个元素添加类似后缀的东西，注意 <code>content</code> 中不能插入图片，于是去 $\text{font-awesome.css}$ 中找到了 <code>fa fa-link</code> 的图标，用 <code>\f08e</code> 表示，故在 $\text{main.css}$  放入如下代码：</p>
<pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token id">#article</span> a<span class="token pseudo-element">::after</span> </span><span class="token punctuation">{</span>
   <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">' \f08e '</span><span class="token punctuation">;</span>
   <span class="token property">font-family</span><span class="token punctuation">:</span> FontAwesome<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>然后发现，不仅正常的链接被显示，所有的大标题前也都有链接，这是因为在添加标题标签时自动补充的链接。</p>
<img src="https://s2.loli.net/2022/05/11/BJSpDh8HdYX1ZLk.png" alt="Hexo-博客主题开发-10.png" style="zoom: 67%;" />

<p>我们发现每个小标题都有一个叫 <code>headerlink</code> 的 <code>class</code>，所以在 $\text{main.css}$ 中补充：</p>
<pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token id">#article</span> a<span class="token class">.headerlink</span><span class="token pseudo-element">::after</span> </span><span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>这样即可让小标题前不显示链接标记。</p>
<h3 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h3><p>因为图片有时不易被发现，所以希望实现在每个图片下都有一个 <code>fa fa-image</code> 加图片名称的显示。</p>
<p>这次自己实现了一个 $\text{JavaScript}$。</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> labelList <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#article"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> imgList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'labellength: '</span> <span class="token operator">+</span> labelList<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>


<span class="token keyword">function</span> <span class="token function">dfs</span><span class="token punctuation">(</span>ulist<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> ulist<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ulist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span>ulist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            imgList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>node<span class="token punctuation">:</span> <span class="token function">$</span><span class="token punctuation">(</span>ulist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> alt<span class="token punctuation">:</span> ulist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>alt<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">var</span> vlist <span class="token operator">=</span> ulist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>vlist<span class="token punctuation">.</span>length <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">dfs</span><span class="token punctuation">(</span>vlist<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token function">dfs</span><span class="token punctuation">(</span>labelList<span class="token punctuation">)</span><span class="token punctuation">;</span>

imgList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>image<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    image<span class="token punctuation">.</span>node<span class="token punctuation">.</span><span class="token function">after</span><span class="token punctuation">(</span><span class="token string">'&lt;p class = image-name>'</span> <span class="token operator">+</span> image<span class="token punctuation">.</span>alt <span class="token operator">+</span> <span class="token string">'&lt;/p>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'res: '</span> <span class="token operator">+</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>学过算法的应该能理解吧，这里主要说几个内置函数：</p>
<ul>
<li><code>$(name).is(&quot;elementname&quot;)</code>：可以理解为判断某个 <code>html</code> 语言是否为这个元素。</li>
<li><code>name.node.after(html)</code>：在某个元素后插入一段 <code>html</code> 语言。</li>
<li><code>console.log(...)</code>：将一些东西输出到 <code>F12</code> 的控制台。</li>
</ul>
<p>也不知道能不能这么说，完全是自己的理解。</p>
<p>这样我们就能实现图片后添加图片名称，但前提是你需要在写文章引用图片时，保留图片名。</p>
<h3 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h3><p>还有一些零零碎碎的细节，不作过多介绍，请参见 <a href="/css/main.css">main.css</a> 的 $\text{post.ejs}$ 部分。</p>
<h1 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h1><p>安装插件清单：</p>
<ul>
<li>$\text{hexo-deployer-git}$</li>
<li>$\text{hexo-prism-plugin}$</li>
<li>$\text{hexo-generator-index-pin-top}$</li>
<li>$\text{hexo-blog-encrypt}$</li>
<li>$\text{hexo-hide-posts}$</li>
<li>$\text{hexo-generator-searchdb}$</li>
</ul>
<h1 id="text-More-Tips"><a href="#text-More-Tips" class="headerlink" title="$\text{More Tips}$"></a>$\text{More Tips}$</h1><ol>
<li><p>$\text{Font Awesome}$</p>
<blockquote>
<p>Font Awesome 字体为您提供可缩放矢量图标,它可以被定制大小、颜色、阴影以及任何可以用CSS的样式。</p>
</blockquote>
<p>使用方法：</p>
<p>在<a target="_blank" rel="noopener" href="http://www.fontawesome.com.cn/">Font Awesome 中文网 – | 字体图标</a>中下载文件，解压出文件夹，拷出当中的 $\text{css}$ 和 $\text{font}$ 文件夹，然后放在主题文件夹中的某个位置。</p>
</li>
<li><p>$\text{Hexo}$ 部署至 $\text{github}$</p>
<p>通过 <code>hexo g -d</code> 指令部署，即可将本地文件上传至 $\text{github}$ 仓库。在传取少量主题个性图片时，可以将图片放在 $\text{\hexo-theme-MeaningLessNess\source\images}$ 中，部署后可以通过 $\text{url&#x2F;images&#x2F;name.*}$ 访问。如将我的博客网站图标以 $\text{favicon.ico}$ 存在上述路径中，则访问时可以通过 <a target="_blank" rel="noopener" href="https://wyy-oier.github.io/images/favicon.ico">https://wyy-oier.github.io/images/favicon.ico</a> 访问。</p>
</li>
<li><p><code>Hexo g</code> 指令生成缺少 $\text{index.html}$ 等主要文件</p>
<p>生成文件或者部署到本地时，不包含 $\text{index.html}$ 文件，导致了博客无法正常加载。</p>
<img src="https://s2.loli.net/2022/05/05/XgLvGF7Thusjmc6.png" alt="Hexo-博客主题开发-04.png" style="zoom: 67%;" />

<p>解决方案：我采用了暴力方法，直接 <code>hexo init</code>。重新 <code>hexo g</code> 和 <code>hexo d</code>，果然就有相应的文件了。</p>
<img src="https://s2.loli.net/2022/05/05/KpsDeFY7MhTowxB.png" alt="Hexo-博客主题开发-05.png" style="zoom:67%;" />

<p>再把主题复制回去，即可修复成功。</p>
</li>
</ol>

            <div id="vcomments"></div>
        </div>

        <div id = "toc">
        </div>

        <script>
            new Valine({
                el: '#vcomments',
                appId: 'CEGJD6I3uLgJeTF6fPsqgGmw-gzGzoHsz',
                appKey: 'R3wowhGv7IL3peB3tT06CjzS',
                visitor: true,
                master: '28a6ec927125219298a15dcb5c104f67'
            })
        </script>

    

</div>

</body>